<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
    <script>
        L_NO_TOUCH = false;
        L_DISABLE_3D = false;
    </script>
    
    <style>html, body {width: 100%; height: 100%; margin: 0; padding: 0;}</style>
    <style>#map {position:absolute; top:0; bottom:0; right:0; left:0;}</style>

    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.5/xlsx.min.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
            
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <style>
        #map {
            position: relative;
            width: 100.0%;
            height: 100.0%;
            left: 0.0%;
            top: 0.0%;
        }

        #updated {
            width: 100%;
            text-align: center;
            position: fixed;
            top: 0%;
            padding-top: 10px;
            padding-bottom: 10px;

            font-family: NanumGothic;
            font-style: normal;
            font-weight: bold;
            font-size: 16px;
            color: #000000;
            background: #FF7500;

            z-index: 9999;
        }

        #copied {
            width: 300px;
            height: 50px;
            text-align: center;
            position: fixed;
            bottom: 10%;
            left: 50%;
            transform: translate(-50%, 0%);

            font-family: NanumGothic;
            font-style: normal;
            font-weight: bold;
            font-size: 16px;
            line-height: 50px;
            color: #000000;
            background: #FF7500;
            border-radius: 10px;

            z-index: 9999;
        }
    </style>
        
</head>

<script>

    var map
    var tile_layer
    var marker
    var icon
    var popup
    var html

    var tourzy_bike = 



[{"car":"TZ0077","lock":"열림","fuel":10,"lock_fuel":96,"lat":"35.159509872374564","lng":"129.13237599710533","lastest":45137.37516203704,"address":"대한민국 부산광역시 센텀비치푸르지오","etc":"미잠금"},{"car":"TZ0209","lock":"열림","fuel":0,"lock_fuel":65,"lat":"35.163046840036145","lng":"129.1441961110223","lastest":45137.37571759259,"address":"대한민국 부산광역시 해운대구 우동 1005-23","etc":"미잠금"},{"car":"TZ0242","lock":"열림","fuel":10,"lock_fuel":97,"lat":"35.170200428083895","lng":"129.1545614201841","lastest":45137.37592592592,"address":"대한민국 부산광역시 해운대구 우동 347-20","etc":"미잠금"},{"car":"TZ0202","lock":"잠김","fuel":0,"lock_fuel":89,"lat":"35.16100161324985","lng":"129.13076345627857","lastest":45137.37358796296,"address":"대한민국 부산광역시 수영구 민락동 1-24","etc":"배터리"},{"car":"TZ0235","lock":"잠김","fuel":0,"lock_fuel":1,"lat":"35.19479986312325","lng":"129.20883263933925","lastest":45136.51738425926,"address":"대한민국 부산광역시 기장군 기장읍 당사리 521","etc":"배터리"},{"car":"TZ0266","lock":"잠김","fuel":0,"lock_fuel":81,"lat":"35.166631510931076","lng":"129.11619580871508","lastest":45137.37428240741,"address":"대한민국 부산광역시 수영구 광안동 75-7","etc":"배터리"},{"car":"TZ0282","lock":"잠김","fuel":0,"lock_fuel":89,"lat":"35.15456412509596","lng":"129.12984923810316","lastest":45137.37060185185,"address":"대한민국 부산광역시 수영구 민락동 113-16","etc":"배터리"},{"car":"TZ0284","lock":"잠김","fuel":0,"lock_fuel":90,"lat":"35.1392080778077","lng":"129.11453350938052","lastest":45137.37568287037,"address":"대한민국 부산광역시 수영구 남천동 559","etc":"배터리"},{"car":"TZ0354","lock":"잠김","fuel":0,"lock_fuel":73,"lat":"35.16165832174594","lng":"129.15543541154372","lastest":45137.37355324074,"address":"대한민국 부산광역시 해운대구 해운대로 584","etc":"배터리"},{"car":"TZ0427","lock":"잠김","fuel":0,"lock_fuel":71,"lat":"35.14830868857307","lng":"129.06609199165572","lastest":45137.37326388889,"address":"대한민국 부산광역시 문전교차로","etc":"배터리"},{"car":"TZ0014","lock":"잠김","fuel":10,"lock_fuel":96,"lat":"35.17926453524149","lng":"129.11983197028493","lastest":45137.36854166666,"address":"대한민국 부산광역시 해운대구 재송동 772-8","etc":"배터리"},{"car":"TZ0054","lock":"잠김","fuel":10,"lock_fuel":96,"lat":"35.1749227581643","lng":"129.17123847924893","lastest":45137.3717824074,"address":"대한민국 부산광역시 해운대구 좌동 1283","etc":"배터리"},{"car":"TZ0056","lock":"잠김","fuel":10,"lock_fuel":97,"lat":"35.153392375684255","lng":"129.14524904391592","lastest":45137.37265046296,"address":"대한민국 부산광역시 해운대구 마린시티3로 52","etc":"배터리"},{"car":"TZ0066","lock":"잠김","fuel":10,"lock_fuel":97,"lat":"35.16660987128663","lng":"129.15738543695738","lastest":45137.37252314815,"address":"대한민국 부산광역시 해운대구 우동 397-64","etc":"배터리"},{"car":"TZ0080","lock":"잠김","fuel":10,"lock_fuel":97,"lat":"35.16562338831834","lng":"129.15760744836612","lastest":45137.36847222222,"address":"대한민국 부산광역시 해운대구 우동 520-15","etc":"배터리"},{"car":"TZ0105","lock":"잠김","fuel":10,"lock_fuel":97,"lat":"35.16449118120528","lng":"129.11440114437107","lastest":45137.37435185185,"address":"대한민국 부산광역시 수영구 광안동 1078-8","etc":"배터리"},{"car":"TZ0121","lock":"잠김","fuel":10,"lock_fuel":97,"lat":"35.169444735912684","lng":"129.17621749746428","lastest":45137.3722337963,"address":"대한민국 부산광역시 해운대구 해운대로 802","etc":"배터리"},{"car":"TZ0135","lock":"잠김","fuel":10,"lock_fuel":98,"lat":"35.129255582263376","lng":"129.1137371457114","lastest":45137.37277777777,"address":"대한민국 부산광역시 남구 분포로 41","etc":"배터리"},{"car":"TZ0139","lock":"잠김","fuel":10,"lock_fuel":97,"lat":"35.15653501344162","lng":"129.11492010709387","lastest":45137.37324074074,"address":"대한민국 부산광역시 수영구 광안동 144-54번지 1층","etc":"배터리"},{"car":"TZ0141","lock":"잠김","fuel":10,"lock_fuel":97,"lat":"35.14093690478021","lng":"129.1145028669358","lastest":45137.37221064815,"address":"대한민국 부산광역시 남천제2동 삼익스포츠센터","etc":"배터리"},{"car":"TZ0169","lock":"잠김","fuel":10,"lock_fuel":96,"lat":"35.16239403769752","lng":"129.11633156305695","lastest":45137.3750462963,"address":"대한민국 부산광역시 수영구 광안동 112-22","etc":"배터리"},{"car":"TZ0196","lock":"잠김","fuel":10,"lock_fuel":97,"lat":"35.1657194761954","lng":"129.16805196963034","lastest":45137.36939814815,"address":"대한민국 부산광역시 해운대구 중동 1768-5","etc":"배터리"},{"car":"TZ0208","lock":"잠김","fuel":10,"lock_fuel":97,"lat":"35.16270958403967","lng":"129.14568824071816","lastest":45137.37094907407,"address":"대한민국 부산광역시 해운대구 우동 983-4","etc":"배터리"},{"car":"TZ0219","lock":"잠김","fuel":10,"lock_fuel":96,"lat":"35.15555785462939","lng":"129.11376481069456","lastest":45137.374375,"address":"대한민국 부산광역시 수영구 광안동 509-97","etc":"배터리"},{"car":"TZ0248","lock":"잠김","fuel":10,"lock_fuel":97,"lat":"35.13785266941732","lng":"129.0678647769273","lastest":45137.37545138889,"address":"대한민국 부산광역시 남구 문현동 652-2","etc":"배터리"},{"car":"TZ0256","lock":"잠김","fuel":10,"lock_fuel":97,"lat":"35.154721707771145","lng":"129.13060896331876","lastest":45137.37149305556,"address":"대한민국 부산광역시 수영구 광안해변로 326번길 31","etc":"배터리"},{"car":"TZ0268","lock":"잠김","fuel":10,"lock_fuel":97,"lat":"35.172621345307256","lng":"129.16484634136063","lastest":45137.37003472223,"address":"대한민국 부산광역시 좌동 1365번지 동원듀크빌리지 106동 206호 해운대구 부산광역시 KR","etc":"배터리"},{"car":"TZ0295","lock":"잠김","fuel":10,"lock_fuel":97,"lat":"35.160863929418454","lng":"129.16146685018344","lastest":45137.37587962963,"address":"대한민국 부산광역시 해운대구 중동 1392-79","etc":"배터리"},{"car":"TZ0319","lock":"잠김","fuel":10,"lock_fuel":97,"lat":"35.13773803867048","lng":"129.1064467035494","lastest":45137.37162037037,"address":"대한민국 부산광역시 남구 황령대로492번길 24","etc":"배터리"},{"car":"TZ0320","lock":"잠김","fuel":10,"lock_fuel":97,"lat":"35.15559506035665","lng":"129.131049706517","lastest":45137.37618055556,"address":"대한민국 부산광역시 수영구 광안해변로 350","etc":"배터리"},{"car":"TZ0322","lock":"잠김","fuel":10,"lock_fuel":97,"lat":"35.148301285236194","lng":"129.11436288004856","lastest":45137.36957175926,"address":"대한민국 부산광역시 수영구 남천동 3-68","etc":"배터리"},{"car":"TZ0330","lock":"잠김","fuel":10,"lock_fuel":97,"lat":"35.12712125841467","lng":"129.11164233593644","lastest":45137.37511574074,"address":"대한민국 부산광역시 남구 용호제1동 176-30","etc":"배터리"},{"car":"TZ0338","lock":"잠김","fuel":10,"lock_fuel":97,"lat":"35.16701878976816","lng":"129.16889716837386","lastest":45137.37046296296,"address":"대한민국 부산광역시 이마트(중동역)","etc":"배터리"},{"car":"TZ0339","lock":"잠김","fuel":10,"lock_fuel":98,"lat":"35.156860689326365","lng":"129.11533897101557","lastest":45137.37045138889,"address":"대한민국 부산광역시 수영구 광안로21번가길 4","etc":"배터리"},{"car":"TZ0356","lock":"잠김","fuel":10,"lock_fuel":96,"lat":"35.1604705262846","lng":"129.15327227820538","lastest":45137.36982638889,"address":"대한민국 부산광역시 해운대구 우동 844-4","etc":"배터리"},{"car":"TZ0436","lock":"잠김","fuel":10,"lock_fuel":96,"lat":"35.16401815670758","lng":"129.14073196665032","lastest":45137.37201388889,"address":"대한민국 부산광역시 해운대구 우동 1007-3","etc":"배터리"},{"car":"TZ0456","lock":"잠김","fuel":10,"lock_fuel":97,"lat":"35.15768927948672","lng":"129.058531218017","lastest":45137.37174768518,"address":"대한민국 부산광역시 부산진구 부전제2동 257-25","etc":"배터리"},{"car":"TZ0484","lock":"잠김","fuel":10,"lock_fuel":97,"lat":"35.188894974151175","lng":"129.0768926795949","lastest":45137.37271990741,"address":"대한민국 부산광역시 연제구 거제동 23-11","etc":"배터리"},{"car":"TZ0110","lock":"잠김","fuel":11,"lock_fuel":96,"lat":"35.15707322954993","lng":"129.1457870837825","lastest":45137.37493055555,"address":"대한민국 부산광역시 해운대구 우동 마린시티3로 1","etc":"배터리"},{"car":"TZ0217","lock":"잠김","fuel":11,"lock_fuel":97,"lat":"35.1733633709756","lng":"129.167287203364","lastest":45137.36942129629,"address":"대한민국 부산광역시 해운대구 좌동 1270-2","etc":"배터리"},{"car":"TZ0205","lock":"잠김","fuel":12,"lock_fuel":97,"lat":"35.16781740785689","lng":"129.1163764434125","lastest":45137.37177083334,"address":"대한민국 부산광역시 수영교차로.수영역","etc":"배터리"},{"car":"TZ0222","lock":"잠김","fuel":12,"lock_fuel":96,"lat":"35.16108070497798","lng":"129.1717317011643","lastest":45137.37480324074,"address":"대한민국 부산광역시 해운대구 중동 938","etc":"배터리"},{"car":"TZ0409","lock":"잠김","fuel":12,"lock_fuel":97,"lat":"35.19502608134308","lng":"129.20869562787655","lastest":45137.37268518518,"address":"대한민국 부산광역시 기장군 기장읍 당사리 519","etc":"배터리"},{"car":"TZ0046","lock":"잠김","fuel":13,"lock_fuel":96,"lat":"35.17766345329651","lng":"129.12521384276292","lastest":45137.37444444445,"address":"대한민국 부산광역시 포스코앞교차로","etc":"배터리"},{"car":"TZ0306","lock":"잠김","fuel":13,"lock_fuel":97,"lat":"35.178721742846015","lng":"129.17506232606445","lastest":45137.36927083333,"address":"대한민국 부산광역시 해운대구 좌동 1396","etc":"배터리"},{"car":"TZ0172","lock":"잠김","fuel":14,"lock_fuel":96,"lat":"35.23014537849566","lng":"129.08843647716242","lastest":45137.37033564815,"address":"대한민국 부산광역시 금정구 장전동 293-184","etc":"배터리"},{"car":"TZ0258","lock":"잠김","fuel":14,"lock_fuel":97,"lat":"35.15435351333744","lng":"129.1262622131785","lastest":45137.36956018519,"address":"대한민국 부산광역시 수영구 민락수변로17번길 36 208호","etc":"배터리"},{"car":"TZ0357","lock":"잠김","fuel":14,"lock_fuel":96,"lat":"35.163711979481306","lng":"129.17424017844516","lastest":45137.37532407408,"address":"대한민국 부산광역시 해운대구 중동 862","etc":"배터리"},{"car":"TZ0281","lock":"잠김","fuel":15,"lock_fuel":97,"lat":"35.18143591058771","lng":"129.06938497902038","lastest":45137.37003472223,"address":"대한민국 부산광역시 연제구 거제동 670-16","etc":"배터리"},{"car":"TZ0017","lock":"잠김","fuel":16,"lock_fuel":97,"lat":"35.16023565068597","lng":"129.11485053085113","lastest":45137.37365740741,"address":"대한민국 부산광역시 수영구 광안동 120-263","etc":"배터리"},{"car":"TZ0047","lock":"잠김","fuel":16,"lock_fuel":96,"lat":"35.16600847570659","lng":"129.1668490838195","lastest":45137.37339120371,"address":"대한민국 부산광역시 해운대구 좌동순환로 511","etc":"배터리"},{"car":"TZ0253","lock":"잠김","fuel":17,"lock_fuel":97,"lat":"35.146619578681694","lng":"129.11433375051445","lastest":45137.37408564815,"address":"대한민국 부산광역시 수영구 광안해변로 133, 지하 1층","etc":"배터리"},{"car":"TZ0393","lock":"잠김","fuel":17,"lock_fuel":98,"lat":"35.14040732567477","lng":"129.10639219321232","lastest":45137.3713425926,"address":"대한민국 부산광역시 수영구 남천제1동 323","etc":"배터리"},{"car":"TZ0412","lock":"잠김","fuel":17,"lock_fuel":97,"lat":"35.130926725096664","lng":"129.0976118767698","lastest":45137.3712962963,"address":"대한민국 부산광역시 남구 대연동 852-24","etc":"배터리"},{"car":"TZ0008","lock":"잠김","fuel":18,"lock_fuel":97,"lat":"35.14481663120549","lng":"129.06298676691742","lastest":45137.36940972223,"address":"대한민국 부산광역시 부산진구 범천동 842-8","etc":"배터리"},{"car":"TZ0012","lock":"잠김","fuel":18,"lock_fuel":96,"lat":"35.13592716094669","lng":"129.0999700967734","lastest":45137.3712962963,"address":"대한민국 부산광역시 남구 대연동 용소로14번길 14 1층","etc":"배터리"},{"car":"TZ0191","lock":"잠김","fuel":18,"lock_fuel":96,"lat":"35.15151013705187","lng":"129.11646388840794","lastest":45137.37305555555,"address":"대한민국 부산광역시 수영구 광안동 197-2","etc":"배터리"},{"car":"TZ0207","lock":"잠김","fuel":18,"lock_fuel":97,"lat":"35.11299399246258","lng":"129.11328237627416","lastest":45137.37383101852,"address":"대한민국 부산광역시 남구 용호동 547-2","etc":"배터리"},{"car":"TZ0254","lock":"잠김","fuel":18,"lock_fuel":97,"lat":"35.16980386601439","lng":"129.11970754322334","lastest":45137.375,"address":"대한민국 부산광역시 수영구 수영동 500-17","etc":"배터리"},{"car":"TZ0267","lock":"잠김","fuel":18,"lock_fuel":97,"lat":"35.14604362918092","lng":"129.11562470021877","lastest":45137.37420138889,"address":"대한민국 부산광역시 수영구 남천동 148-77","etc":"배터리"},{"car":"TZ0275","lock":"잠김","fuel":18,"lock_fuel":96,"lat":"35.159952774311115","lng":"129.1607583705297","lastest":45137.37515046296,"address":"대한민국 부산광역시 해운대구 중동 1391-94","etc":"배터리"},{"car":"TZ0309","lock":"잠김","fuel":18,"lock_fuel":97,"lat":"35.16992160905205","lng":"129.17780842296105","lastest":45137.37559027778,"address":"대한민국 부산광역시 해운대구 해운대로 814","etc":"배터리"},{"car":"TZ0324","lock":"잠김","fuel":18,"lock_fuel":97,"lat":"35.16631864334516","lng":"129.186056820306","lastest":45137.37391203704,"address":"대한민국 부산광역시 해운대구 좌동 1448","etc":"배터리"},{"car":"TZ0364","lock":"잠김","fuel":18,"lock_fuel":96,"lat":"35.161957486224864","lng":"129.11400605258592","lastest":45137.37130787037,"address":"대한민국 부산광역시 수영구 광안동 수영로 630","etc":"배터리"},{"car":"TZ0037","lock":"잠김","fuel":19,"lock_fuel":96,"lat":"35.16335737506413","lng":"129.14752903635335","lastest":45137.37456018518,"address":"대한민국 부산광역시 해운대구 해운대로483번길 10-0","etc":"배터리"},{"car":"TZ0101","lock":"잠김","fuel":19,"lock_fuel":96,"lat":"35.18140377872771","lng":"129.07528168964578","lastest":45137.37289351852,"address":"대한민국 부산광역시 연제구 연산동 1368-3","etc":"배터리"},{"car":"TZ0291","lock":"잠김","fuel":19,"lock_fuel":97,"lat":"35.17384362256383","lng":"129.17676117637671","lastest":45137.37210648148,"address":"대한민국 부산광역시 해운대구 좌동로 109-17","etc":"배터리"},{"car":"TZ0341","lock":"잠김","fuel":19,"lock_fuel":96,"lat":"35.161848677121","lng":"129.16589864051136","lastest":45137.37189814815,"address":"대한민국 부산광역시 해운대구 중동 1152-9","etc":"배터리"},{"car":"TZ0343","lock":"잠김","fuel":19,"lock_fuel":96,"lat":"35.1594266685223","lng":"129.16020336814117","lastest":45137.37111111111,"address":"대한민국 부산광역시 해운대구 중동 1415-21","etc":"배터리"},{"car":"TZ0384","lock":"잠김","fuel":19,"lock_fuel":97,"lat":"35.1610983367872","lng":"129.05632861822318","lastest":45137.37380787037,"address":"대한민국 부산광역시 부전동 401-4번지 1층 부산진구 부산광역시 KR","etc":"배터리"},{"car":"TZ0475","lock":"잠김","fuel":19,"lock_fuel":96,"lat":"35.196583038463665","lng":"129.0784910657152","lastest":45137.37163194444,"address":"대한민국 부산광역시 연제구 거제동 89-91","etc":"배터리"},{"car":"TZ0068","lock":"잠김","fuel":20,"lock_fuel":96,"lat":"35.16279795498893","lng":"129.14567662486317","lastest":45137.36988425926,"address":"대한민국 부산광역시 해운대구 우동 983-4","etc":"배터리"},{"car":"TZ0111","lock":"잠김","fuel":20,"lock_fuel":97,"lat":"35.155355061826086","lng":"129.11782897314606","lastest":45137.37247685185,"address":"대한민국 부산광역시 수영구 광안동 158-57","etc":"배터리"},{"car":"TZ0164","lock":"잠김","fuel":20,"lock_fuel":96,"lat":"35.167797782471546","lng":"129.14502385339796","lastest":45137.37398148148,"address":"대한민국 부산광역시 해운대구 해운대로469번나길 69","etc":"배터리"},{"car":"TZ0201","lock":"잠김","fuel":20,"lock_fuel":97,"lat":"35.12673025418719","lng":"129.11244425997145","lastest":45137.3696412037,"address":"대한민국 부산광역시 메트로유치원","etc":"배터리"},{"car":"TZ0227","lock":"잠김","fuel":20,"lock_fuel":97,"lat":"35.149543687712836","lng":"129.11266412008612","lastest":45137.37454861111,"address":"대한민국 부산광역시 수영구 광안동 189-9","etc":"배터리"},{"car":"TZ0323","lock":"잠김","fuel":20,"lock_fuel":97,"lat":"35.1703126049159","lng":"129.1373648687349","lastest":45137.37459490741,"address":"대한민국 부산광역시 해운대구 해운대로 365","etc":"배터리"},{"car":"TZ0430","lock":"잠김","fuel":20,"lock_fuel":97,"lat":"35.13652100601942","lng":"129.10138714027156","lastest":45137.37454861111,"address":"대한민국 부산광역시 남구 용소로13번길 13","etc":"배터리"}]


    // 주소 복사
    function copyToClipboard(val) {
        const t = document.createElement("textarea");
        document.body.appendChild(t);
        t.value = val;
        t.select();
        document.execCommand('copy');
        document.body.removeChild(t);
    }

    function copy(addr, carnum) {

        var jsonIdx = tourzy_bike.findIndex(function(key) {return key["car"] === carnum});
        
        var idx = JSON.stringify(jsonIdx);

        // console.log('idx : ' + idx)

        const onlongclick = ($target, duration, callback) => {

            $target.onmousedown = () => {
                const timer = setTimeout(callback, duration);

                $target.onmouseup = () => {
                clearTimeout(timer);
                };
            };  

            $target.ontouchstart = () => {
                const timer = setTimeout(callback, duration);

                $target.ontouchend = () => {
                clearTimeout(timer);
                };
            };  
        }

        // 코드예시
        const $target = document.querySelector('#html');

        onlongclick($target, 300, () => {

            alert('차량 번호 : ' + carnum + ' 작업을 완료했습니다.');
        });
        
        copyToClipboard(addr);

        $("#copied").show();

        self.setTimeout("hideDiv()", 2000);
    }
    
    $(document).ready(function () {

        $("#copied").hide();
    });
    // 주소 복사

    function hideDiv () {
        
        $("#copied").hide();
    }

    function mapLoad () {
        
        // $("#folium-map").html(JSON.stringify(XLSX.utils.sheet_to_json (sheet)));

        // console.log(JSON.stringify(XLSX.utils.sheet_to_json(sheet)))

        map = L.map("map", {
            center: [35.16380454089401, 129.1326448135078],
            crs: L.CRS.EPSG3857,
            zoom: 11,
            zoomControl: true,
            preferCanvas: false,
        });

        tile_layer = L.tileLayer(
            "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
            {"attribution": "Data by \u0026copy; \u003ca href=\"http://openstreetmap.org\"\u003eOpenStreetMap\u003c/a\u003e, under \u003ca href=\"http://www.openstreetmap.org/copyright\"\u003eODbL\u003c/a\u003e.", "detectRetina": false, "maxNativeZoom": 18, "maxZoom": 18, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
        ).addTo(map);

        for (let i = 0; i < tourzy_bike.length; i++) {

            // console.log(`${i} car:${tourzy_bike[i].car}, lat:${tourzy_bike[i].lat}, lng:${tourzy_bike[i].lng}`)

            // 시작
            marker = L.marker(
                [tourzy_bike[i].lat, tourzy_bike[i].lng],
                {}
            ).addTo(map);

            var icon_color = ''
            var icon_img = ''

            if (tourzy_bike[i].fuel < 15) {

                icon_color = 'red'

            } else {

                icon_color = 'orange'
            }

            if (tourzy_bike[i].lock == '열림') {

                icon_img = 'ban-circle'

            } else {

                if (tourzy_bike[i].etc == 'GPS' || tourzy_bike[i].etc == '파손' || tourzy_bike[i].etc == '회수') {

                    icon_img = 'plus-sign'

                } else if (tourzy_bike[i].etc == '이탈') {

                    icon_img = 'refresh'
                    
                } else {

                    icon_img = 'flash'
                }
            }
        
            icon = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": icon_img, "iconColor": "white", "markerColor": icon_color, "prefix": "glyphicon"}
            );
            marker.setIcon(icon);
        
            popup = L.popup({"maxWidth": "100%"});
            html = $(`<div id="html" onclick="copy('${tourzy_bike[i].address.replace("대한민국 ", "")}', '${tourzy_bike[i].car}')"; style="width: 100.0%; height: 100.0%;">${tourzy_bike[i].car}<br /><div id="html" style="width: 100.0%; height: 100.0%;">${tourzy_bike[i].fuel}%</div><br /><div id="html" style="width: 100.0%; height: 100.0%;">${tourzy_bike[i].etc}</div></div>`)[0];
            popup.setContent(html);
            
            marker.bindPopup(popup);
            // 끝
        }
    }

    window.onload = function () {
        
        mapLoad ()
    }

</script>

<body>

    <div id="copied">주소가 복사되었습니다.</div>

    <div id="updated">UPDATED 2023.07.30. 09:00 총 78대
        <br/>
        밴 - 잠금 열린 차량 (3대)
        <br/>
        플러스 - 회수 후 정비가 필요한 차량 (0대)
        <br/>
        리프레쉬 - 재배치가 필요한 차량 (0대)
        <br/>
        번개 - 배터리 부족 빨간색 15% 이하, 주황색 15% 이상 30% 이하 (75대)
    </div>
    
    <div class="folium-map" id="map"></div>
        
</body>

</html>